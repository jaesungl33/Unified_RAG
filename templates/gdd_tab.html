{% extends "base.html" %}

{% block title %}GDD RAG - Unified RAG App{% endblock %}

{% block content %}
<div class="gdd-container">
    <div class="upload-section">
        <h3>Upload Document</h3>
        <input type="file" id="file-upload" accept=".pdf">
        <button id="upload-btn" class="btn-primary">Upload & Index</button>
        <div id="upload-status"></div>
    </div>
    
    <div class="layout">
        <div class="sidebar">
            <h2>Indexed Documents</h2>
            <input type="text" id="document-search" class="document-search" placeholder="Search documents...">
            <p style="font-size:0.8rem;margin:4px 0 8px 0;">
                Click a document to filter queries to that document.
            </p>
            <div id="documents-list">
                <p>Loading documents...</p>
            </div>
        </div>
        
        <div class="main-panel">
            <div class="chat-container" id="chat-container">
                <div class="message bot-message" id="gdd-welcome-message">
                    Welcome! Upload a document or select one from the sidebar to start querying.
                </div>
            </div>
        </div>
    </div>
    
    <div class="input-area">
        <input type="text" id="query-input" placeholder="Ask a question about the game design documents...">
        <button id="send-btn" class="btn-primary">Send</button>
        <button id="clear-chat-btn" class="btn-secondary">Clear Chat</button>
    </div>
</div>

<script src="{{ url_for('static', filename='js/gdd.js') }}"></script>
{% endblock %}

