{% extends "base.html" %}

{% block title %}Code Q&A - Unified RAG App{% endblock %}

{% block content %}
<div class="code-container">
    <div class="layout">
        <div class="sidebar">
            <h2>Indexed Files</h2>
            <input type="text" id="file-search" class="document-search" placeholder="Search files...">
            <p style="font-size:0.8rem;margin:4px 0 8px 0;">
                Click a file to filter queries to that file.
            </p>
            <div id="files-list">
                <p>Loading files...</p>
            </div>
        </div>
        
        <div class="main-panel">
            <div class="chat-container" id="chat-container">
                <div class="message bot-message" id="code-welcome-message">
                    Welcome! Ask questions about your C# codebase. Use @filename.cs to filter to specific files.
                </div>
            </div>
        </div>
    </div>
    
    <div class="input-area">
        <input type="text" id="query-input" placeholder="Ask a question about the codebase...">
        <button id="send-btn" class="btn-primary">Send</button>
        <button id="clear-chat-btn" class="btn-secondary">Clear Chat</button>
    </div>
</div>

<script src="{{ url_for('static', filename='js/code.js') }}"></script>
{% endblock %}

